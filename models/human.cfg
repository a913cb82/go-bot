# Config for Human SL with KataGo v1.15+
# Based on gtp_human5k_example.cfg

logDir = gtp_logs
logAllGTPCommunication = true
logSearchInfo = true
logSearchInfoForChosenMove = false
logToStderr = false

rules = japanese

allowResignation = true
resignThreshold = -0.99
resignConsecTurns = 20
resignMinScoreDifference = 40
resignMinMovesPerBoardArea = 0.4

# Max visits 40 is good for pass/resign judgment.
# For pure imitation, this is sufficient if humanSLChosenMoveProp = 1.0.
maxVisits = 40
numSearchThreads = 8
lagBuffer = 1.0

delayMoveScale = 0.0
delayMoveMax = 0.0

# ===========================================================================
# HUMAN SL PARAMETERS
# ===========================================================================

# Default profile. Can be overridden via command line: -override-config
humanSLProfile=rank_20k

# Probability to play a HUMAN-like move vs KataGo's move.
humanSLChosenMoveProp = 1.0

# Ignore human SL pass choice, rely on KataGo.
humanSLChosenMoveIgnorePass = true

# Suppress human moves KataGo hates. Large number = disabled.
humanSLChosenMovePiklLambda = 100000000

# Exploration settings (disabled by default for pure imitation config)
humanSLRootExploreProbWeightless = 0.0
humanSLRootExploreProbWeightful = 0.0
humanSLPlaExploreProbWeightless = 0.0
humanSLPlaExploreProbWeightful = 0.0
humanSLOppExploreProbWeightless = 0.0
humanSLOppExploreProbWeightful = 0.0

humanSLCpuctExploration = 0.50
humanSLCpuctPermanent = 0.2

# ===========================================================================
# OTHER USEFUL PARAMETERS FOR HUMAN PLAY ADJUSTMENT
# ===========================================================================

chosenMoveTemperatureEarly = 0.85
chosenMoveTemperature = 0.70
chosenMoveTemperatureHalflife = 80
chosenMoveTemperatureOnlyBelowProb = 0.01
chosenMoveSubtract = 0
chosenMovePrune = 0

nnCacheSizePowerOfTwo = 17
nnMutexPoolSizePowerOfTwo = 14

# ===========================================================================
# PARAMETERS CHANGED FROM DEFAULT TO MAKE SURE HUMAN SL USAGE WORKS WELL
# ===========================================================================

# Do NOT ignore history for human play.
ignorePreRootHistory = false
analysisIgnorePreRootHistory = false

# Average 2 neural net samples at the root.
rootNumSymmetriesToSample = 2
useLcbForSelection = false

winLossUtilityFactor = 1.0
staticScoreUtilityFactor = 0.30
dynamicScoreUtilityFactor = 0.00

useUncertainty = false
subtreeValueBiasFactor = 0.0
useNoisePruning = false
